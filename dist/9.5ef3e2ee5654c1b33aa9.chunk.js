webpackJsonp([9],{521:function(e,a,t){"use strict";function r(e){o||t(702)}Object.defineProperty(a,"__esModule",{value:!0});var i=t(666),l=t(703),o=!1,s=t(181),n=r,d=s(i.a,l.a,!1,n,"data-v-36fbb310",null);d.options.__file="src/views/regist.vue",a.default=d.exports},666:function(e,a,t){"use strict";t(43);a.a={data:function(){return{formValidate:{phone:"",realname:"",idcard:"",mail:"",is_real_people:!1,is_right_people:!1},ruleValidate:{realname:[{required:!0,message:"真实姓名不能为空",trigger:"blur"},{required:!0,type:"string",trigger:"change"}],idcard:[{required:!0,message:"身份证号不能为空",trigger:"blur"},{required:!0,type:"string",min:18,max:18,message:"错误的格式",trigger:"change"}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{required:!0,type:"string",min:11,max:11,message:"错误的格式",trigger:"change"}],mail:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"错误的邮箱格式",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var a=this,t=this;this.$refs[e].validate(function(r){if(r){var i={telephone:a.formValidate.phone,id_card:a.formValidate.idcard,email:a.formValidate.mail,real_name:a.formValidate.realname};console.log("==========="),console.log(a.formValidate),console.log(e),console.log(r),console.log(i),a.postRequest("/api/users/active",a.$qs.stringify(i)).then(function(e){console.log(e),t.$Message.success("提交成功!"),t.$router.go(-1)}).catch(function(e){console.log(e),t.$Message.error("提交失败!"+e)})}else a.$Message.error("信息无效")})},handleReset:function(e){this.$refs[e].resetFields()}},created:function(){console.log("vuex数据"+this.$store.state.uid),this.id=this.$store.state.uid;var e=this;this.getRequest("/api/me").then(function(a){if(console.log(a),e.is_real_people=a.data.data.is_real_people,e.is_real_people)return e.$Message.warning("您已经完成了激活，再次提交将覆盖您的信息，请确认是否继续"),!1}).catch(function(e){console.log(e)})}}},702:function(e,a){},703:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"index"},[t("Row",{staticClass:"title",attrs:{span:"24"}},[t("Col",{attrs:{span:"22"}},[e._v("用户激活")])],1),e._v(" "),t("div",{staticStyle:{width:"75%","margin-top":"15%","margin-left":"10%"}},[t("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[t("FormItem",{attrs:{label:"真实姓名",prop:"realname"}},[t("Input",{attrs:{size:"large",placeholder:"请输入您的真实姓名"},model:{value:e.formValidate.realname,callback:function(a){e.$set(e.formValidate,"realname",a)},expression:"formValidate.realname"}})],1),e._v(" "),t("FormItem",{attrs:{label:"身份证号",prop:"idcard"}},[t("Input",{attrs:{size:"large",placeholder:"请输入您的身份证号"},model:{value:e.formValidate.idcard,callback:function(a){e.$set(e.formValidate,"idcard",a)},expression:"formValidate.idcard"}})],1),e._v(" "),t("FormItem",{attrs:{label:"手机号",prop:"phone"}},[t("Input",{attrs:{size:"large",placeholder:"请输入您的手机号"},model:{value:e.formValidate.phone,callback:function(a){e.$set(e.formValidate,"phone",a)},expression:"formValidate.phone"}})],1),e._v(" "),t("FormItem",{attrs:{label:"电子邮箱",prop:"mail"}},[t("Input",{attrs:{size:"large",placeholder:"请输入您的电子邮箱"},model:{value:e.formValidate.mail,callback:function(a){e.$set(e.formValidate,"mail",a)},expression:"formValidate.mail"}})],1),e._v(" "),t("FormItem",[t("Button",{attrs:{type:"primary"},on:{click:function(a){e.handleSubmit("formValidate")}}},[e._v("提交")]),e._v(" "),t("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(a){e.handleReset("formValidate")}}},[e._v("重置")])],1)],1)],1)],1)},i=[];r._withStripped=!0;var l={render:r,staticRenderFns:i};a.a=l}});