webpackJsonp([12],{521:function(e,t,a){"use strict";function r(e){l||a(703)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(667),i=a(704),l=!1,n=a(181),s=r,c=n(o.a,i.a,!1,s,"data-v-36fbb310",null);c.options.__file="src/views/regist.vue",t.default=c.exports},667:function(e,t,a){"use strict";a(43);t.a={data:function(){return{formValidate:{phone:"",realname:"",idcard:"",mail:"",company:"",job:"",is_real_people:!1,is_right_people:!1},ruleValidate:{realname:[{required:!0,message:"真实姓名不能为空",trigger:"blur"},{required:!0,type:"string",trigger:"change"}],idcard:[{required:!0,message:"身份证号不能为空",trigger:"blur"},{required:!0,type:"string",min:18,max:18,message:"错误的格式",trigger:"change"}],company:[{required:!0,message:"工作单位不能为空",trigger:"blur"},{required:!0,type:"string",trigger:"change"}],job:[{required:!0,message:"职务不能为空",trigger:"blur"},{required:!0,type:"string",trigger:"change"}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{required:!0,type:"string",min:11,max:11,message:"错误的格式",trigger:"change"}],mail:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"错误的邮箱格式",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this,a=this;this.$refs[e].validate(function(r){if(r){var o={telephone:t.formValidate.phone,real_name:t.formValidate.realname,job:t.formValidate.job,company:t.formValidate.company};console.log("==========="),console.log(t.formValidate),console.log(e),console.log(r),console.log(o),t.postRequest("/api/users/active",o).then(function(e){console.log(e),a.$Modal.success({title:"提交成功",content:"您已认证成功，后台人员将对您的信息进行审核，若有虚假信息，管理人员有权取消您的认证资格。"}),a.$router.go(-1)}).catch(function(e){console.log(e),a.$Message.error("提交失败!"+e)})}else t.$Message.error("信息无效")})},handleReset:function(e){this.$refs[e].resetFields()}},created:function(){console.log("vuex数据"+this.$store.state.uid),this.id=this.$store.state.uid;var e=this;this.getRequest("/api/me").then(function(t){console.log(t),e.is_real_people=t.data.data.is_real_people,e.is_real_people&&e.$Modal.warning({title:"提示",content:"您已经完成激活，再次提交将覆盖您的信息，请确认是否继续"})}).catch(function(e){console.log(e)})}}},703:function(e,t){},704:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"index"},[a("Row",{staticClass:"title",attrs:{span:"24"}},[a("Col",{attrs:{span:"22"}},[e._v("用户激活")])],1),e._v(" "),a("div",{staticStyle:{width:"75%","margin-top":"15%","margin-left":"10%"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"真实姓名",prop:"realname"}},[a("Input",{attrs:{size:"large",placeholder:"请输入您的真实姓名"},model:{value:e.formValidate.realname,callback:function(t){e.$set(e.formValidate,"realname",t)},expression:"formValidate.realname"}})],1),e._v(" "),a("FormItem",{attrs:{label:"手机号",prop:"phone"}},[a("Input",{attrs:{size:"large",placeholder:"请输入您的手机号"},model:{value:e.formValidate.phone,callback:function(t){e.$set(e.formValidate,"phone",t)},expression:"formValidate.phone"}})],1),e._v(" "),a("FormItem",{attrs:{label:"工作单位",prop:"company"}},[a("Input",{attrs:{size:"large",placeholder:"请输入您的身份证号"},model:{value:e.formValidate.company,callback:function(t){e.$set(e.formValidate,"company",t)},expression:"formValidate.company"}})],1),e._v(" "),a("FormItem",{attrs:{label:"职务",prop:"job"}},[a("Input",{attrs:{size:"large",placeholder:"请输入您的电子邮箱"},model:{value:e.formValidate.job,callback:function(t){e.$set(e.formValidate,"job",t)},expression:"formValidate.job"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("提交")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("重置")])],1)],1)],1)],1)},o=[];r._withStripped=!0;var i={render:r,staticRenderFns:o};t.a=i}});